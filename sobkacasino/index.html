<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–û–ë–ö–ê –ö–ê–ó–ò–ù–û</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* –ò–ó–ú–ï–ù–ï–ù–û: –í—Å–µ —Å—Ç–∏–ª–∏ –±—ã–ª–∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω—ã */
        :root {
            --primary-bg: #1a222c;
            --secondary-bg: #2c3e50;
            --gold-color: #f1c40f;
            --red-color: #e74c3c;
            --green-color: #2ecc71;
            --text-color: #ecf0f1;
            --border-radius: 15px;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f1218, #2c3e50);
            color: var(--text-color);
        }

        .casino {
            text-align: center;
            background-color: var(--primary-bg);
            padding: 30px 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 90%;
            max-width: 500px;
        }

        h1 {
            margin-bottom: 25px;
            color: var(--gold-color);
            font-weight: 700;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }

        .slots {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 15px;
        }

        .slot {
            width: 100px;
            height: 100px;
            border: 4px solid var(--gold-color);
            border-radius: 10px;
            overflow: hidden;
            background-color: #111;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.7);
            transition: box-shadow 0.3s;
        }
        
        /* –ù–û–í–û–ï: –ê–Ω–∏–º–∞—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è —Å–ª–æ—Ç–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è */
        .slots.spinning .slot {
            box-shadow: inset 0 0 10px rgba(0,0,0,0.7), 0 0 20px var(--gold-color);
        }

        .slot img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .info-panel {
            background-color: var(--secondary-bg);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .balance-info {
            font-size: 20px;
            font-weight: 600;
        }

        #balance {
            color: var(--gold-color);
        }

        #message {
            margin-top: 10px;
            font-size: 18px;
            min-height: 27px;
            font-weight: 600;
            transition: color 0.3s;
        }
        
        /* –ù–û–í–û–ï: –ö–ª–∞—Å—Å—ã –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π */
        .win-message { color: var(--green-color); }
        .error-message { color: var(--red-color); }
        .info-message { color: var(--text-color); }


        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        .bet-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            width: 100%;
        }

        /* –ù–û–í–û–ï: –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ +/- */
        .bet-adjust-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid var(--gold-color);
            background-color: transparent;
            color: var(--gold-color);
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        .bet-adjust-btn:hover {
            background-color: var(--gold-color);
            color: var(--primary-bg);
        }
        .bet-adjust-btn:active {
            transform: scale(0.9);
        }

        #betInput {
            width: 120px;
            padding: 10px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 8px;
            border: 2px solid var(--secondary-bg);
            background-color: var(--primary-bg);
            color: var(--text-color);
            text-align: center;
            -moz-appearance: textfield; /* –£–±—Ä–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏ –≤ Firefox */
        }
        #betInput::-webkit-outer-spin-button,
        #betInput::-webkit-inner-spin-button {
            -webkit-appearance: none; /* –£–±—Ä–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏ –≤ Chrome, Safari, Edge, Opera */
        }


        #spinButton {
            width: 100%;
            padding: 15px 30px;
            font-size: 20px;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            background: linear-gradient(145deg, var(--red-color), #c0392b);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        #spinButton:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.5);
        }

        #spinButton:active:not(:disabled) {
            transform: translateY(1px);
        }

        #spinButton:disabled {
            background: #576574;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        #topUpButton {
            margin-top: 10px;
            background: none;
            border: 2px solid var(--green-color);
            color: var(--green-color);
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        #topUpButton:hover:not(:disabled) {
            background-color: var(--green-color);
            color: var(--primary-bg);
        }
        #topUpButton:disabled {
            border-color: #576574;
            color: #576574;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<div class="casino">
    <h1>–°–û–ë–ö–ê –ö–ê–ó–ò–ù–û</h1>
    <div class="slots" id="slots-container">
        <div class="slot" id="slot1"><img src="https://sobka228.github.io/sobkacasino/images/jopka.jpg" alt="?"></div>
        <div class="slot" id="slot2"><img src="https://sobka228.github.io/sobkacasino/images/jopka.jpg" alt="?"></div>
        <div class="slot" id="slot3"><img src="https://sobka228.github.io/sobkacasino/images/jopka.jpg" alt="?"></div>
    </div>

    <div class="info-panel">
        <div class="balance-info">
            –ë–∞–ª–∞–Ω—Å: <span id="balance">500</span> –∫–æ–ø–µ–µ–∫
        </div>
        <div id="message" class="info-message">–£–¥–∞—á–∏ –ª–æ—Ö!</div>
    </div>
    
    <div class="controls">
        <div class="bet-container">
            <button class="bet-adjust-btn" id="decreaseBet">-</button>
            <input type="number" id="betInput" value="50" min="10" step="10">
            <button class="bet-adjust-btn" id="increaseBet">+</button>
        </div>
        <button id="spinButton">–ö—Ä—É—Ç–∏—Ç—å</button>
        <button id="topUpButton">–ü–æ–ø–æ–ª–Ω–∏—Ç—å (+100 –∫–æ–ø–µ–µ–∫)</button>
    </div>
</div>

<audio id="spinSound" src="https://sobka228.github.io/sobkacasino/sounds/ak47-1.mp3"></audio>
<audio id="winSound" src="https://sobka228.github.io/sobkacasino/sounds/fgoooooo.mp3"></audio>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const symbols = [
            { name: 'stanok', img: 'https://sobka228.github.io/sobkacasino/images/pila.jpg', weight: 3 },
            { name: 'pokakat', img: 'https://sobka228.github.io/sobkacasino/images/pokakat.jpg', weight: 5 },
            { name: 'sopina', img: 'https://sobka228.github.io/sobkacasino/images/sopina.jpg', weight: 8 },
            { name: 'gomyak', img: 'https://sobka228.github.io/sobkacasino/images/gomyak.jpg', weight: 10 },
            { name: 'kiwi', img: 'https://sobka228.github.io/sobkacasino/images/kiwi.jpg', weight: 12 },
            { name: 'grysha', img: 'https://sobka228.github.io/sobkacasino/images/grysha.jpg', weight: 15 },
            { name: 'imba', img: 'https://sobka228.github.io/sobkacasino/images/imba.jpg', weight: 7 },
            { name: 'shalava', img: 'https://sobka228.github.io/sobkacasino/images/shalava.jpg', weight: 13 }
        ];

        const winCombinations = {
            'stanok-stanok-stanok': 4,
            'pokakat-pokakat-pokakat': 10,
            'sopina-sopina-sopina': 20,
            'gomyak-gomyak-gomyak': 40,
            'kiwi-kiwi-kiwi': 100,
            'grysha-grysha-grysha': 200,
            'shalava-shalava-shalava': 220
        };

        const spinButton = document.getElementById('spinButton');
        const message = document.getElementById('message');
        const balanceDisplay = document.getElementById('balance');
        const spinSound = document.getElementById('spinSound');
        const winSound = document.getElementById('winSound');
        const topUpButton = document.getElementById('topUpButton');
        const betInput = document.getElementById('betInput');
        const slotsContainer = document.getElementById('slots-container'); // –ù–û–í–û–ï
        const decreaseBetBtn = document.getElementById('decreaseBet'); // –ù–û–í–û–ï
        const increaseBetBtn = document.getElementById('increaseBet'); // –ù–û–í–û–ï

        let topUpCount = 0;
        const maxTopUps = 3;
        let balance = 500;

        const weightedSymbols = [];
        symbols.forEach(symbol => {
            for (let i = 0; i < symbol.weight; i++) {
                weightedSymbols.push(symbol);
            }
        });

        function getRandomSymbol() {
            const randomIndex = Math.floor(Math.random() * weightedSymbols.length);
            return weightedSymbols[randomIndex];
        }
        
        // –ù–û–í–û–ï: –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏ –µ–≥–æ —Ü–≤–µ—Ç–∞)
        function showMessage(text, type) {
            message.textContent = text;
            message.className = type + '-message';
        }

        function spin() {
            const currentBet = parseInt(betInput.value, 10);
            const minBet = parseInt(betInput.min, 10);

            if (isNaN(currentBet) || currentBet < minBet) {
                showMessage(`–°—Ç–∞–≤–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ ${minBet}!`, 'error');
                return;
            }

            if (balance < currentBet) {
                showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!', 'error');
                spinButton.disabled = true;
                return;
            }

            spinSound.currentTime = 0;
            spinSound.play();

            balance -= currentBet;
            updateBalance();

            spinButton.disabled = true;
            betInput.disabled = true;
            decreaseBetBtn.disabled = true;
            increaseBetBtn.disabled = true;
            slotsContainer.classList.add('spinning'); // –ù–û–í–û–ï: –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
            showMessage('–ö—Ä—É—Ç–∏–º...', 'info');

            const slots = [document.getElementById('slot1'), document.getElementById('slot2'), document.getElementById('slot3')];
            let results = [];
            let spinCount = 0;

            slots.forEach((slot, index) => {
                const interval = setInterval(() => {
                    const randomSymbol = getRandomSymbol();
                    slot.innerHTML = `<img src="${randomSymbol.img}" alt="${randomSymbol.name}">`;
                }, 100);

                setTimeout(() => {
                    clearInterval(interval);
                    const finalSymbol = getRandomSymbol();
                    slot.innerHTML = `<img src="${finalSymbol.img}" alt="${finalSymbol.name}">`;
                    results[index] = finalSymbol.name;
                    spinCount++;

                    if (spinCount === slots.length) {
                        checkWin(results, currentBet);
                    }
                }, 1000 + index * 500);
            });
        }

        function checkWin(results, currentBet) {
            slotsContainer.classList.remove('spinning'); // –ù–û–í–û–ï: –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏
            const resultString = results.join('-');
            const winMultiplier = winCombinations[resultString];

            if (winMultiplier) {
                const winAmount = currentBet * winMultiplier;
                winSound.currentTime = 0;
                winSound.play();
                showMessage(`–î–ñ–ï–ö–ü–û–¢! +${winAmount} ü™ô`, 'win');
                balance += winAmount;
            } else if (results[0] === results[1] || results[1] === results[2]) {
                showMessage(`–ö–æ–º–±–∏–Ω–∞—Ü–∏—è! –°—Ç–∞–≤–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ (+${currentBet} ü™ô)`, 'win');
                balance += currentBet;
            } else {
                showMessage('–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!', 'info');
            }
            updateBalance();
            updateControlsState();
        }

        function updateBalance() {
            balanceDisplay.textContent = balance;
        }
        
        // –ù–û–í–û–ï: –û—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
        function updateControlsState() {
            const currentBet = parseInt(betInput.value, 10);
            spinButton.disabled = balance < currentBet || isNaN(currentBet);
            betInput.disabled = false;
            decreaseBetBtn.disabled = false;
            increaseBetBtn.disabled = false;
            
            if (balance < currentBet && balance > 0) {
                 showMessage('–õ–µ –±—Ä–∞–¥ —Å–Ω–∏–∑—å —Å—Ç–∞–≤–∫—É –∏–ª–∏ –∫–æ–ø–µ–π–∫—É –¥—ç–π –Ω–∞–º', 'error');
            } else if (balance <= 0) {
                 showMessage('–í–´ –ë–û–ú–ñ.', 'error');
            }
        }

        spinButton.addEventListener('click', spin);

        topUpButton.addEventListener('click', () => {
            if (topUpCount < maxTopUps) {
                balance += 100;
                topUpCount++;
                updateBalance();
                showMessage('–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω!', 'win');
                updateControlsState();

                if (topUpCount >= maxTopUps) {
                    topUpButton.disabled = true;
                    topUpButton.textContent = "–£ –í–ê–° –ü–û–°–õ–ï–î–ù–ò–ï –î–ï–ù–¨–ì–ò –ó–ê–ö–û–ù–ß–ò–õ–ò–°–¨(((";
                }
            }
        });
        
        // –ù–û–í–û–ï: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ +/-
        increaseBetBtn.addEventListener('click', () => {
            const step = parseInt(betInput.step, 10);
            betInput.value = parseInt(betInput.value, 10) + step;
            updateControlsState();
        });

        decreaseBetBtn.addEventListener('click', () => {
            const step = parseInt(betInput.step, 10);
            const min = parseInt(betInput.min, 10);
            let newValue = parseInt(betInput.value, 10) - step;
            if (newValue < min) {
                newValue = min;
            }
            betInput.value = newValue;
            updateControlsState();
        });
        
        // –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏ –≤—Ä—É—á–Ω—É—é
        betInput.addEventListener('input', updateControlsState);
        
    });
</script>

</body>
</html>